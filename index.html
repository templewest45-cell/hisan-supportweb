<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>繰り上がり・筆算支援ツール</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <header>
            <h1>繰り上がり・筆算支援ツール <br><span style="font-size: 0.7em;">（ブロックやお金を使って考えよう）</span></h1>
            <div class="controls">
                <button id="settings-toggle-btn" class="settings-btn">⚙️ 設定</button>
                <div id="debug-console" style="font-size: 0.7rem; color: #555; background: #eee; padding: 2px;">Start...
                </div>

                <div id="settings-panel" class="settings-panel hidden">
                    <div class="settings-content">
                        <div class="mode-select-group">
                            <label for="display-mode">モード</label>
                            <select id="display-mode">
                                <option value="coin">お金 (コイン)</option>
                                <option value="block">ブロック (四角)</option>
                            </select>
                        </div>
                        <div id="color-config" class="color-config hidden">
                            <span style="font-size: 0.8em; font-weight: bold;">色設定:</span>
                            <label><span style="font-size:0.8em">1</span><input type="color" id="color-1"
                                    value="#ffeb3b"></label>
                            <label><span style="font-size:0.8em">10</span><input type="color" id="color-10"
                                    value="#81c784"></label>
                            <label><span style="font-size:0.8em">100</span><input type="color" id="color-100"
                                    value="#e57373"></label>
                        </div>
                        <div class="scaffold-settings">
                            <label><input type="checkbox" id="setting-auto-answer" checked> 答えの自動入力</label>
                            <label><input type="checkbox" id="setting-auto-carry" checked> 繰り上がりの自動入力</label>
                        </div>
                    </div>
                </div>

                <div class="formula-row">
                    <span class="formula-label" style="font-weight: bold; margin-right: 5px;">式：</span>
                    <div class="input-group">
                        <input type="number" id="input1" value="43" min="1" max="999">
                    </div>
                    <div class="input-group">
                        <span id="operator-display" class="operator">+</span>
                        <input type="number" id="input2" value="8" min="1" max="99">
                        <span class="operator">=</span>
                        <input type="number" id="header-answer" class="header-answer" placeholder="?">
                    </div>
                </div>
                <button id="start-btn">けいさん スタート</button>
            </div>
        </header>

        <main class="workspace">
            <div id="feedback-overlay" class="hidden">
                <div class="feedback-text">正解！</div>
            </div>
            <!-- Left: Vertical Calculation -->
            <section class="calc-panel">
                <h2>筆算 (ひっさん)</h2>
                <div id="calc-container" class="calc-container">
                    <!-- Hiss will be generated here -->
                    <div class="placeholder-text">ここにしきがでます</div>
                </div>
            </section>

            <!-- Right: Visualization -->
            <section class="visual-panel">

                <div class="bank-area">
                    <div class="coin-grid">
                        <div class="place-col">
                            <div class="col-label">100のくらい</div>
                            <div id="col-100" class="coin-area"></div>
                            <div id="result-100" class="result-zone" data-val="100">合わせる場所</div>
                        </div>
                        <div class="place-col">
                            <div class="col-label">10のくらい</div>
                            <div id="col-10" class="coin-area"></div>
                            <div id="result-10" class="result-zone" data-val="10">合わせる場所</div>
                        </div>
                        <div class="place-col">
                            <div class="col-label">1のくらい</div>
                            <div id="col-1" class="coin-area"></div>
                            <div id="result-1" class="result-zone" data-val="1">合わせる場所</div>
                        </div>
                    </div>
                </div>

            </section>
        </main>
    </div>
    <script defer src="logic.js"></script>
    <script defer src="main.js"></script>
</body>

</html>